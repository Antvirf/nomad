{{#unless @summary.isProcessed}}
  <ListAccordion data-test-recommendation-accordion class="recommendation-accordion boxed-section" @source={{array @summary}} @key="id" as |a|>
    {{#if a.isOpen}}
      <Das::RecommendationCard
        @summary={{@summary}}
        @proceed={{this.proceed}}
        @onCollapse={{action (mut a.isOpen) false}}
      />
    {{else}}
      <a.head @buttonLabel={{if a.isOpen "Hide" "Show"}}>
        <section class="left">
          {{x-icon "info-circle-fill"}}
          <span>Resource Recommendation</span>
          <span data-test-group class="group">{{@summary.taskGroup.name}}</span>
        </section>

        <section class="diffs">
          {{#if this.diffs.cpu.delta}}
            <section>
              <span class="resource">CPU</span>
              {{this.diffs.cpu.signedDiff}}
              <span class="percent">{{this.diffs.cpu.percentDiff}}</span>
            </section>
          {{/if}}

          {{#if this.diffs.memory.delta}}
            <section>
              <span class="resource">Mem</span>
              {{this.diffs.memory.signedDiff}}
              <span class="percent">{{this.diffs.memory.percentDiff}}</span>
            </section>
          {{/if}}
        </section>
      </a.head>
    {{/if}}
  </ListAccordion>
{{/unless}}